<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WORKS - LUMETRUST | ルメトラスト</title>
    <link rel="icon" type="image/png" href="assets/favicon.png">
    <link rel="apple-touch-icon" href="assets/favicon.png">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700;800;900&display=swap" rel="stylesheet">
    <style>
        *{box-sizing:border-box;margin:0;padding:0}
        body{font-family:'Noto Sans JP',system-ui,-apple-system,Segoe UI,Roboto,'Helvetica Neue',Arial,sans-serif;color:#111;background:#fff;line-height:1.8}
        .header{position:sticky;top:0;z-index:100;background:rgba(0,0,0,.9);backdrop-filter:blur(10px)}
        .nav{display:flex;align-items:center;width:100%;padding:10px 32px 10px 0}
        .nav-brand{display:flex;align-items:center}
        .nav-logo{height:40px;width:auto}
        .nav-menu{margin-left:auto;display:flex;gap:24px;list-style:none}
        .nav-link{color:#fff;text-decoration:none;font-weight:800}
        .nav-link:hover{color:#e91e63}

        .hero{background:#111;color:#fff;padding:64px 0;text-align:center}
        .page-title{font-size:2.2rem;font-weight:900;letter-spacing:.15em;text-transform:uppercase}
        .page-title::after{content:'';display:block;width:90px;height:2px;margin:14px auto 0;background:#fff;opacity:.9}
        .container{max-width:1100px;margin:0 auto;padding:0 24px}

        /* AOI Pro. WORK風 リスト */
        .works-list{margin-top:28px;border-top:1px solid #e5e5e5}
        .work-row{display:grid;grid-template-columns:110px 140px 1fr;gap:18px;align-items:center;padding:18px 0;border-bottom:1px solid #eee;text-decoration:none;color:inherit}
        .work-row:hover .work-title{text-decoration:underline}
        .work-date{font-size:.85rem;color:#666;letter-spacing:.06em}
        .work-cat{display:inline-block;font-size:.75rem;letter-spacing:.12em;color:#111;padding:6px 10px;border:1px solid #111;font-weight:800;text-transform:uppercase}
        .work-title{font-size:1rem;font-weight:800;letter-spacing:.02em}

        .footer{ text-align:center; padding:48px 0; color:#666; font-size:.9rem; border-top:1px solid #eee; margin-top:56px; }

        /* スマホ用レスポンシブ */
        @media (max-width: 768px) {
            .container {
                padding: 0 16px;
            }

            .controls {
                grid-template-columns: 1fr !important;
                gap: 12px !important;
            }

            .controls > div:not(:first-child) {
                width: 100%;
            }

            #cats {
                flex-wrap: wrap;
                gap: 8px;
            }

            .cat-btn {
                flex: 1;
                min-width: 80px;
                font-size: 0.8rem;
            }

            .works-list {
                margin-top: 20px;
            }

            .work-row {
                grid-template-columns: 1fr !important;
                gap: 12px !important;
                padding: 16px 0 !important;
                text-align: left;
            }

            .work-date {
                order: 1;
                font-size: 0.8rem;
                margin-bottom: 8px;
            }

            .work-cat {
                order: 2;
                display: inline-block;
                margin-bottom: 8px;
                font-size: 0.7rem;
                padding: 4px 8px;
            }

            .work-title {
                order: 3;
                font-size: 1.1rem;
                line-height: 1.4;
            }

            .work-grid {
                grid-template-columns: 1fr !important;
            }

            .hamburger {
                display: flex;
            }
        }

        /* ハンバーガーメニュー */
        .hamburger {
            display: none;
            flex-direction: column;
            cursor: pointer;
            padding: 8px;
            z-index: 1001;
            margin-left: auto;
        }

        .hamburger span {
            width: 25px;
            height: 3px;
            background: #fff;
            margin: 3px 0;
            transition: 0.3s;
            border-radius: 2px;
        }

        .hamburger.active span:nth-child(1) {
            transform: rotate(-45deg) translate(-5px, 6px);
        }

        .hamburger.active span:nth-child(2) {
            opacity: 0;
        }

        .hamburger.active span:nth-child(3) {
            transform: rotate(45deg) translate(-5px, -6px);
        }
    </style>
</head>
<body>
    <header class="header">
        <nav class="nav">
            <div class="nav-brand">
                <a href="index.html"><img src="assets/logo.png" alt="LUMETRUST" class="nav-logo"></a>
            </div>
            <div class="hamburger" onclick="toggleMenu()">
                <span></span>
                <span></span>
                <span></span>
            </div>
            <ul class="nav-menu" id="navMenu">
                <li><a href="index.html#home" class="nav-link" onclick="closeMenu()">Home</a></li>
                <li><a href="works.html" class="nav-link" aria-current="page" onclick="closeMenu()">Works</a></li>
                <li><a href="services.html" class="nav-link" onclick="closeMenu()">Services</a></li>
                <li><a href="about.html" class="nav-link" onclick="closeMenu()">About</a></li>
                <li><a href="index.html#contact" class="nav-link" onclick="closeMenu()">Contact</a></li>
            </ul>
        </nav>
    </header>

    <section class="hero" aria-label="Works">
        <h1 class="page-title">Works</h1>
        <p style="opacity:.85; margin-top:10px; font-weight:600; letter-spacing:.08em;">受賞・掲載作含む、主要作品リスト</p>
    </section>

    <main class="container">
        <div class="controls" style="display:grid;grid-template-columns:1fr auto auto auto;gap:12px;align-items:center;margin-top:24px;margin-bottom:8px">
            <div style="position:relative">
                <input id="q" type="search" placeholder="フリーワード検索" style="width:100%;height:38px;padding:0 12px;border:1px solid #ddd">
            </div>
            <select id="year" style="height:38px;border:1px solid #ddd;padding:0 10px;min-width:140px"></select>
            <div id="cats" style="display:flex;gap:10px;flex-wrap:wrap">
                <button data-cat="" class="cat-btn active" style="height:38px;padding:0 12px;border:1px solid #111;background:#111;color:#fff;font-weight:800">ALL</button>
                <button data-cat="ショートフィルム" class="cat-btn" style="height:38px;padding:0 12px;border:1px solid #111;background:#fff;color:#111;font-weight:800">CM</button>
                <button data-cat="アート" class="cat-btn" style="height:38px;padding:0 12px;border:1px solid #111;background:#fff;color:#111;font-weight:800">Film</button>
                <button data-cat="ドキュメンタリー" class="cat-btn" style="height:38px;padding:0 12px;border:1px solid #111;background:#fff;color:#111;font-weight:800">Documentary</button>
                <button data-cat="ミュージックビデオ" class="cat-btn" style="height:38px;padding:0 12px;border:1px solid #111;background:#fff;color:#111;font-weight:800">Music Video</button>
            </div>
            <label style="display:flex;align-items:center;gap:8px;font-weight:800"><input id="awarded" type="checkbox"> 受賞作品のみ</label>
        </div>
        <div id="works-grid" class="work-grid" style="display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:22px;margin-top:10px"></div>
    </main>

    <footer class="footer">
        <small>&copy; 2024 小寺颯輝 映像作品ポートフォリオ</small>
    </footer>

    <script>
        // ハンバーガーメニューの制御
        function toggleMenu() {
            const navMenu = document.getElementById('navMenu');
            const hamburger = document.querySelector('.hamburger');
            navMenu.classList.toggle('active');
            hamburger.classList.toggle('active');
        }

        function closeMenu() {
            const navMenu = document.getElementById('navMenu');
            const hamburger = document.querySelector('.hamburger');
            navMenu.classList.remove('active');
            hamburger.classList.remove('active');
        }
    </script>

    <script>
    // index.html と同じパーサ
    function parseYouTubeId(raw){ if(!raw) return ''; const s=String(raw).trim().replace(/^@+/, ''); try{ const u=new URL(s,'https://www.youtube.com'); const host=u.hostname.replace('www.',''); if(host==='youtu.be') return u.pathname.replace(/^\//,'').split('/')[0]||''; if(host.endsWith('youtube.com')){ if(u.pathname==='/watch') return u.searchParams.get('v')||''; if(u.pathname.startsWith('/shorts/')) return u.pathname.split('/shorts/')[1].split('/')[0]||''; if(u.pathname.startsWith('/embed/')) return u.pathname.split('/embed/')[1].split('/')[0]||''; } }catch(_){} const m=s.match(/([A-Za-z0-9_-]{11})/); return m?m[1]:''; }

    // 簡易データ（index.htmlのSTATIC_WORKSと同じ構造を想定）
    const STATIC_WORKS = [
        { title: '中央大学Youtubeオープニング', year: '2024', category: 'ショートフィルム', youtube: '@https://youtu.be/BpQ0BFcBTM4', awarded: true },
        { title: '作品B', year: '2023', category: 'ドキュメンタリー', youtube: '@https://youtu.be/BW0xPJkpFhQ', awarded: false },
        { title: '作品C', year: '2022', category: 'アート', youtube: '@https://youtu.be/g7QGcZAiXWo', awarded: true },
        { title: '作品D', year: '2022', category: 'ミュージックビデオ', youtube: '@https://youtu.be/0x4B5nB-jLc', awarded: false }
    ];

    function thumbUrl(id){ return `https://img.youtube.com/vi/${id}/hqdefault.jpg`; }

    function renderGrid(works){
        const grid=document.getElementById('works-grid');
        grid.innerHTML = works.map(w=>{
            const id=parseYouTubeId(w.youtube);
            const href=id?`https://youtu.be/${id}`:'#';
            return `
                <a href="${href}" target="_blank" rel="noopener" style="display:block;border:1px solid #eee;text-decoration:none;color:inherit">
                    <div style="aspect-ratio:16/9;background:#f2f2f2;overflow:hidden"><img src="${thumbUrl(id)}" alt="${w.title}" style="width:100%;height:100%;object-fit:cover"></div>
                    <div style="padding:12px 14px;display:flex;flex-direction:column;gap:8px">
                        <div style="display:flex;justify-content:space-between;align-items:center">
                            <span class="work-cat">${w.category}</span>
                            ${w.awarded?'<span class="work-cat" title="Awarded" style="border:1px solid #999;color:#555">🏆</span>':''}
                        </div>
                        <div class="work-title">${w.title}</div>
                        <div class="work-date">${w.year}</div>
                    </div>
                </a>`;
        }).join('');
    }

    function unique(arr){ return [...new Set(arr)]; }
    function applyFilters(){
        const q=document.getElementById('q').value.toLowerCase();
        const year=document.getElementById('year').value;
        const cat=document.querySelector('.cat-btn.active')?.getAttribute('data-cat')||'';
        const onlyAward=document.getElementById('awarded').checked;
        const filtered=STATIC_WORKS.filter(w=>{
            const okQ=!q||w.title.toLowerCase().includes(q);
            const okY=!year||w.year===year;
            const okC=!cat||w.category===cat;
            const okA=!onlyAward||w.awarded;
            return okQ && okY && okC && okA;
        });
        renderGrid(filtered);
    }

    (function init(){
        const yearSel=document.getElementById('year');
        yearSel.innerHTML='<option value="">年を選択</option>'+unique(STATIC_WORKS.map(w=>w.year)).sort((a,b)=>b.localeCompare(a)).map(y=>`<option value="${y}">${y}</option>`).join('');
        document.getElementById('q').addEventListener('input', applyFilters);
        document.getElementById('year').addEventListener('change', applyFilters);
        document.getElementById('awarded').addEventListener('change', applyFilters);
        document.querySelectorAll('.cat-btn').forEach(btn=>btn.addEventListener('click',e=>{document.querySelectorAll('.cat-btn').forEach(b=>{b.classList.remove('active');b.style.background='#fff';b.style.color='#111';}); e.currentTarget.classList.add('active'); e.currentTarget.style.background='#111'; e.currentTarget.style.color='#fff'; applyFilters();}));
        renderGrid(STATIC_WORKS);
    })();
    </script>
</body>
</html>


